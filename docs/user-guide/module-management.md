# Управление модулями

DeBot обладает мощной модульной системой. Управление модулями осуществляется для каждого аккаунта индивидуально.

### `.addmod`

Добавляет и активирует новый модуль. Команда должна быть отправлена в ответ на сообщение с файлом модуля (`.py`).

**Процесс работы:**
1.  Файл модуля скачивается.
2.  Код парсится для извлечения метаданных (`__requires__`, `__trusted__` и др.).
3.  Если указаны зависимости в `__requires__`, они автоматически устанавливаются через `pip`.
4.  Модуль добавляется в базу данных и привязывается к аккаунту, с которого была вызвана команда.
5.  Если модуль требует доверия (`__trusted__ = True`), он будет добавлен, но останется неактивным до вызова команды `.trustmod`.

### `.delmod <имя_модуля>`

Деактивирует и отвязывает модуль от текущего аккаунта.

-   **`<имя_модуля>`**: Имя модуля без расширения `.py`.

### `.trustmod <имя_модуля>`

Предоставляет модулю статус "доверенного" для текущего аккаунта.

-   **`<имя_модуля>`**: Имя модуля, которому нужно предоставить полный доступ.

Эта команда необходима для модулей, которые помечены как `__trusted__ = True`. Такие модули могут получить доступ к чувствительным данным сессии, поэтому требуется явное подтверждение от пользователя.

### `.configmod <модуль> <ключ> <значение>`

Настраивает параметры модуля, если он поддерживает конфигурацию через `__config__`.

-   **`<модуль>`**: Имя модуля.
-   **`<ключ>`**: Ключ параметра, который нужно изменить.
-   **`<значение>`**: Новое значение. Если значение содержит пробелы, его следует взять в кавычки (на данный момент не поддерживается, передавайте как одно слово или JSON).

> **Важно:** После добавления или удаления модулей может потребоваться перезапуск бота (`docker-compose restart userbot`) для корректной загрузки или выгрузки обработчиков событий.
